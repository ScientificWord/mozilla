<?xml version="1.0"?>

<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
<?xml-stylesheet href="chrome://prince/skin/toolbarsOverlay.css" type="text/css"?>
<?xml-stylesheet href="chrome://global/skin/toolbar.css" type="text/css"?>
<?xml-stylesheet href="chrome://prince/skin/fastcursor.css" type="text/css"?>
<?xml-stylesheet href="chrome://prince/content/bindings/sidebar.css" type="text/css"?>
<?xml-stylesheet href="chrome://prince/content/EditorContent.css" type="text/css"?>



# All overlay information is stored in a separate file so that it can be shared by
# hiddenWindow.xul.
#include prince-overlays.inc
<!--?xul-overlay href="chrome://global/content/charsetOverlay.xul"? -->


# All DTD information is stored in a separate file so that it can be shared by
# hiddenWindow.xul.
#include prince-doctype.inc
<!--JLF - Localization pass on 6/28/2011-->
<window
  id    = "prince"
  title = "&prince.title;"
  onload="princeStartUp()"
  onunload=""
  onclose="return msiEditorCanClose()"
  onfocus="msiEditorWindowOnFocus(event)"
  contenttitlesetting="true"
  titlemodifier="&editorWindow.titlemodifier;"
  titlemodifierseparator="&editorWindow.titlemodifierseparator;"
  windowtype="swp:xhtml_mathml"        
  screenX="10" screenY="10" width="1000" height="600"
  persist="screenX screenY width height sizemode"
  sizemode="normal"
  xmlns = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">


   <script type="application/x-javascript" src="chrome://editor/content/StructBarContextMenu.js"/>


# All sets except for popupsets (commands, keys, stringbundles and broadcasters) *must* go into the 
# browser-sets.inc file for sharing with hiddenWindow.xul.
#include prince-sets.inc

  <popupset id="msiEditorContentContextSet"/>
  <popupset id="mainPopupSet"/>
  <popup id="sidebarPopup"/>

  <toolbox class="toolbox-top" id="EditorToolbox">
# The entire main menubar is placed into prince-menubar.inc, so that it can be shared by 
# hiddenWindo#w.xul.
#include prince-menubar.inc 
#include prince-toolbars.inc
  </toolbox>

<keyset id="msiEditorKeys"/>
<keyset id="msiMathMLKeySet"/>
<keyset id="msiComputeKeySet"/>


<sidebaritems id="sidebaritems">
<!--JLF with BBM-->
  <sidebaritem id="sidebaritem-MSI" name="MSI" src="http://www.mackichan.com/beta/What%27s%20new%20sidebar.xhtml" title="MSI What's new"/>
  <!--sidebaritem id="sidebaritem-ajarfile"   name="jarfile" src="jar:file:///C:/Documents and Settings/Barry/My Documents/SWPDocs/guided tour of prince.sci!/main.xhtml" title="Guide"/-->
  <sidebaritem id="sidebaritem-fragments"   name="fragments" src="chrome://prince/content/fragment.xul" title="&FragmentsSidebar.title;"/>
  <sidebaritem id="sidebaritem-toc"   name="toc" src="chrome://prince/content/toc.xul" title="&BookmarksSidebar.title;"/>                              
  <sidebaritem id="sidebaritem-log"   name="compute log" src="chrome://global/content/engineconsole.xul" title="&EnginelogSidebar.title;"/>                              
  <sidebaritem id="sidebaritem-symbols"   height="244" name="symbols" src="chrome://prince/content/symbols.xul" title="&SymbolsSidebar.title;"/>
</sidebaritems>

<!-- sidebar/toolbar/content/status -->
<hbox id="sidebar-parent" flex="1">
  <sidebar id="sidebar1" sidebaritems="toc,symbols" persist="sidebaritems collapsed"/>
  <splitter id="splitter1" collapse="before" resizebefore="closest" persist="state">
    <grippy/>
  </splitter>

  <vbox id="appcontent" flex="1">
    <deck id="ContentWindowDeck" selectedIndex="0" flex="1">
      <editor id="content-frame" type="content-primary" context="msiEditorContentContext"
                editortype="html" flex="1" spellcheck="true" tooltip="aHTMLTooltip"/>
      <vbox>                                    
        <label id="doctype-text" crop="right"/>
        <editor id="content-source" type="content" context="editorSourceContext"
                flex="1" tooltip="aSourceTooltip"/>
      </vbox>
      <browser id="preview-frame" src="about:blank" disablehistory="1" flex="1"/>
    </deck>
    <hbox id="EditModeToolbar" hidden="false" persist="collapsed">
      <tabs id="EditModeTabs" align="start" class="tabs-bottom" flex="1">
       <tab id="NormalModeButton"   class="tab-bottom edit-mode _plain" type="text" selected="1" label="&NormalModeTab.label;" 
          oncommand="goDoCommand('cmd_NormalMode');" tooltiptext="&NormalMode.tooltip;"/>
       <tab id="TagModeButton"      class="tab-bottom edit-mode _plain" type="text" selected="0" label="&TagsMode.label;"  
           oncommand="goDoCommand('cmd_AllTagsMode');" tooltiptext="&TagsMode.tooltip;"/>
       <tab id="SourceModeButton"   class="tab-bottom edit-mode _plain" type="text" selected="0" label="&SourceMode.label;" 
             oncommand="goDoCommand('cmd_HTMLSourceMode');" tooltiptext="&SourceMode.tooltip;" dir="&SourceTabDirection;"/>
       <tab id="PreviewModeButton"  class="tab-bottom edit-mode _plain" type="text" selected="0" label="&PreviewMode.label;"
             oncommand="goDoCommand('cmd_PreviewMode');" tooltiptext="&PreviewMode.tooltip;"/>
      </tabs>
    </hbox>
    <!--tabeditor/-->
  </vbox>
  <splitter id="splitter2" collapse="after" resizeafter="closest" persist="state">
    <grippy/>
  </splitter>
  <sidebar id="sidebar2" sidebaritems="MSI" collapsed="false" persist="sidebaritems collapsed"/>
</hbox><!-- sidebar-parent -->

  <statusbar class="chromeclass-status" id="status-bar" hidden="false">
    <statusbarpanel id="macroEntryPanel" hidden="true">
      <label>&macro.label;</label>
      <toolbar id="macroEntry" >
	      <textbox id="macroAndFragments" timeout="50" type="autocomplete"
          minresultsforpopup="1"
          forcecomplete="true"
          completedefaultindex="true" autocompletesearch="stringarray" 
          autocompletesearchparam="macros fragments" 
		      tooltiptext="&macro.tooltip;" 
          onfocus="this.select();"
          enablehistory="false"
          ontextentered="dump('hello\n');onMacroOrFragmentEntered(this.value);" />
      </toolbar>
    </statusbarpanel>
    <statusbarpanel id="fastCursorPanel" hidden="true">
      <toolbar id="FastCursorToolbar" align="center" fullscreentoolbar="true">

      <image id="fastcursor-dir" up="false"/>
      <label value="&fastcursor.label;"/>
      <hbox id="fastcursor-field-container">
        <textbox id="fastcursor-field"/>
      </hbox>
      <separator width="4px"/>
      <toolbarbutton id="find-next" tooltiptext="&fastcursorNext.tooltip;"
                     oncommand="findNext();" disabled="false"/>
      <separator/>
      <toolbarbutton id="find-previous" tooltiptext="&fastcursorPrevious.tooltip;"
                     oncommand="findPrevious();" disabled="false"/>
      <separator/>
      <toolbarbutton type="checkbox" checked="false" id="highlight" tooltiptext="&highlight.tooltip;"
                     oncommand="toggleHighlight(this.checked);"
                     disabled="false"/>
      <separator/>
      <!--toolbarbutton id="fastcursor-case-sensitive" type="checkbox" oncommand="toggleCaseSensitivity(this.checked);"
                label="&caseSensitiveCheckbox.label;" accesskey="&caseSensitiveCheckbox.accesskey;"/ -->
      <image id="fastcursor-status-icon"/>
      <label id="fastcursor-status"/>
      <toolbarbutton id="fastcursor-closebutton" tooltiptext="&fastcursorCloseButton.tooltip;"
                     oncommand="hideFastCursorBar();"/>  
    </toolbar>
    </statusbarpanel>


    <spacer flex="1"/>
    <statusbarpanel id="structToolbar" flex="100" pack="end">
    <label id="structSpacer" value="" flex="100"/>
    </statusbarpanel>
    <statusbarpanel class="statusbarpanel-iconic" id="offline-status"/>
  </statusbar>

<!-- command sets -->
  <commandset id="commonEditorMenuItems" />
  <commandset id="composerMenuItems" />
  <commandset id="composerSaveMenuItems" />
  <commandset id="composerEditMenuItems" />
  <commandset id="composerStyleMenuItems" />
  <commandset id="composerListMenuItems" />
  <commandset id="composerTableMenuItems" />
  <commandset id="MSIcomputeMenuCommands" />
  <commandset id="MSItooltCommands" />
  <commandset id="MSItypesetMenuCommands"/>
  <commandset id="MSItypesetInsertMenuCommands"/>
  <commandset id="MSImathMenuCommands"/>
  <commandset id="tagsMenuCommands"/>
  <commandset id="princegotoitems"/>
	<commandset id="MSIVCamCommands" />
  <commandset id="mainCommandSet"/> <!-- from MozRepl-->

# All JS files which are not content (only) dependent that prince.xul
# wishes to include *must* go into the global-scripts.inc file
# so that they can be shared by macBrowserOverlay.xul.
#include global-scripts.inc

</window>

