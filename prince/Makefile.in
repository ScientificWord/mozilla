DEPTH		= ..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

DIRS		=  base samples res plugins fastcursor
ifeq ($(OS_ARCH),WINNT)
DIRS	+=  Compute
endif

MODULE		= prince
XPI_NAME	= prince

PREF_JS_EXPORTS	= $(srcdir)/prince-prefs.js
DIST_FILES	= application.ini

ifneq (,$(filter windows,$(MOZ_WIDGET_TOOLKIT)))
ICONS		= icons/prince.ico
endif
ifneq (,$(filter gtk gtk2,$(MOZ_WIDGET_TOOLKIT)))
ICONS		= icons/prince.xpm icons/prince.xpm
endif

include $(topsrcdir)/config/rules.mk

ifneq (,$(ICONS))
libs:: $(ICONS)
	$(INSTALL) $^ $(FINAL_TARGET)/chrome/icons/default
endif
