% -*-latex-*-
%% /u/sy/beebe/tex/bib/bibmods.sty, Mon Jul  9 08:40:33 1990
%% Edit by Nelson H.F. Beebe <beebe at plot79.math.utah.edu>

%% =====================================================================
%%  @LaTeX-style-file{
%%      author          = "Nelson H. F. Beebe <beebe at science.utah.edu>",
%%      version         = "1.01",
%%      date            = "10 September 1991",
%%      filename        = "bibmods.sty",
%%      address         = "Center for Scientific Computing
%%                         and Department of Mathematics
%%                         South Physics Building
%%                         University of Utah
%%                         Salt Lake City, UT 84112
%%                         USA
%%                         Tel: (801) 581-5254",
%%      checksum        = "14420 65 318 2830",
%%      email           = "beebe at science.utah.edu (Internet)",
%%      codetable       = "ISO/ASCII",
%%      supported       = "yes",
%%      docstring       = "This LaTeX style file provides a modification
%%                         to the thebibliography environment to improve
%%                         spacing.
%%
%%                         The checksum field above contains a CRC-16
%%                         checksum as the first value, followed by the
%%                         equivalent of the standard UNIX wc (word
%%                         count) utility output of lines, words, and
%%                         characters.  This is produced by Robert
%%                         Solovay's checksum utility."
%%      }
%% =====================================================================

% The standard LaTeX \bibliography definition invokes \sloppy, which in turn
% sets \tolerance to 10000.  This gives spacing that is too stretchable,
% with the result that wide white spaces appear in order to give right-
% justified output in two-column mode.  We redefine \thebibliography
% to invoke the original definition, then reset the tolerance to a more
% reasonable value.  We also allow a little \emergencystretch (a TeX 3.0
% feature) to allow individual lines to be slightly longer; if that
% name is unknown, the code avoids its use, so as to work with earlier
% versions of TeX.

% TeXbook, p. 308:
\def\ifundefined#1{\expandafter\ifx\csname#1\endcsname\relax}

\let\oldthebibliography=\thebibliography
\renewcommand{\thebibliography}[1]{\oldthebibliography{#1}
    \hyphenpenalty=1
    % \emergencystretch is a new feature of TeX 3.0; use it only if known
    \ifundefined{emergencystretch}
        \relax
    \else
        \emergencystretch=3pt
    \fi
    \if@twocolumn
        \tolerance=6000         %need looser tolerances in two-column mode
    \else
        \tolerance=2000
    \fi
\hbadness=10000 \relax}

\overfullrule=3pt               % to catch problems in the output.

