
%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%#%%#%%#%%#%%#%%#%%#%%#%%#%%#%%#%
% pwskbook.sty 31-Jul-92
% PWS-KENT TR2 BookWare Companion Document Style
% This style file contains all the formatting specifics for the PWSKENT
% TR2 BookWare Companion Series.  For use with LaTeX
% by Samuel Richter (=Samr)
% Copyright (C) 1992, Beacon Graphics Corporation
% $Header$
%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%%#%%

%%% display information about the document style
\typeout{*** PWS-KENT TR2 BookWare Companion Document Style, 10pt}
\typeout{*** Copyright (C) 1992, Beacon Graphics Corporation}

% JCS - changed all bibitem's to bibitm's because this file redefines
%       bibitem with a new number of arguments and this was confusing
%       scientific word.
% JCS - added these macros so that sciword could use the nested 
%       environemnts.
%
\def\bcomment{\begin{comment}}
\def\ecomment{\end{comment}}
\def\bhint{\begin{hint}}
\def\ehint{\end{hint}}
\def\bwhatif{\begin{whatif}}
\def\ewhatif{\end{whatif}}
\def\bcrosscheck{\begin{crosscheck}}
\def\ecrosscheck{\end{crosscheck}}
\def\bsolution{\begin{solution}}
\def\esolution{\end{solution}}
\def\bsoltext{\begin{soltext}}
\def\esoltext{\end{soltext}}
\def\billusprob{\begin{illusprob}}
\def\eillusprob{\end{illusprob}}
\def\biptext{\begin{iptext}}
\def\eiptext{\end{iptext}}
\def\getiptitle#1\par{\iptitle{#1}}

\def\bdefinitions{\begin{definitions}}
\def\edefinitions{\end{definitions}}
\def\getdeftitle#1\par{\defsubhead{#1}}
\def\defineonecol#1.{\defonecol{#1}}
\def\definetwocol#1.#2\par{\deftwocol{#1}{#2}}

\def\banswers{\begin{answers}}
\def\eanswers{\end{answers}}
\def\bmatlabfuncs{\begin{matlabfuncs}}
\def\ematlabfuncs{\end{matlabfuncs}}

\def\bexample{\begin{example}}
\def\eexample{\end{example}}
\def\bextext{\begin{extext}}
\def\getextitle#1\par{\extitle{#1}}
\def\eextext{\end{extext}}

\def\bhidispeq{\begin{hidisplayeq}}
\def\ehidispeq{\end{hidisplayeq}}

\def\bretro#1\par{\begin{retrospective}{#1}}
\def\eretro{\end{retrospective}}
\def\retroheader#1\par{\retAhead{#1}}

\def\bproblems{\begin{problems}}
\def\eproblems{\end{problems}}

\def\bbibliography{\begin{bibliography}}
\def\ebibliography{\end{bibliography}}

%---------------------------------------+-----------------------------------%
%%%                                   Setup                               %%%
%---------------------------------------+-----------------------------------%

%%% ~~~ Global Variables ~~~ %%%
\newcounter {part}
\newcounter {chapter}
\newcounter {section}[chapter]
\newcounter {subsection}[section]
\newcounter {subsubsection}[subsection]
\newcounter {paragraph}[subsubsection]
\newcounter {subparagraph}[paragraph]
\newcounter {problem}[chapter]
\newcounter {answer}[chapter]
\newcounter {anspart}[answer]
\newcounter {subanpt}[anspart]
\newcounter {bibitm}[chapter]
\@addtoreset{equation}{chapter} 
\@addtoreset{footnote}{chapter} 
%%% Numbering Styles
\def\thepart {\Roman{part}}
\def\thechapter {\arabic{chapter}}
\def\thesection {\thechapter.\arabic{section}}
\def\thesubsection {\thesection.\arabic{subsection}}
\def\thesubsubsection {\thesubsection .\arabic{subsubsection}}
\def\theparagraph {\thesubsubsection.\arabic{paragraph}}
\def\thesubparagraph {\theparagraph.\arabic{subparagraph}}
\def\theproblem {\arabic{problem}}
\def\theanswer {\arabic{answer}}
\def\theanspart {\enspace(\alph{anspart})\enspace}
\def\thesubanpt {\enspace(\roman{subanpt})\enspace}
\def\thebibitm {\arabic{bibitm}}
\def\@chapapp{Chapter}
%%% Current Environment Variables
\def\ce@last{text}              % last environment entered
\def\ce@ex{example}
\def\ce@ip{illusprob}
\def\ce@wi{whatif}
\def\ce@cc{crosscheck}
\def\ce@sl{solution}
\def\ce@cm{comment}
\def\ce@text{text}

%%% ~~~~ Initialization ~~~ %%%
%%% most of these variables are part of TeX or LaTeX
\def\@ptsize{0} 
\@mparswitchtrue                        % put marginal notes on alternating sides
\def\ds@draft{\overfullrule 5pt}        % draft option shows overfull lines
\@options                               % execute document style options (ds@...)
\lineskip=1pt                           % put 1 pt of glue above overtall lines
\normallineskip=1pt                     % normal value of \lineskip
\def\baselinestretch{1}                 % single spaced
\def\chaptermark#1{}
\setcounter{secnumdepth}{2}


%%% ~~~ Font Sizes ~~~ %%% 
%%% most of these variables are part of TeX or LaTeX
%%% Normal Size fonts
\def\@normalsize{\@setsize\normalsize{12pt}\xpt\@xpt
\abovedisplayskip=10pt plus2pt minus5pt \belowdisplayskip=\abovedisplayskip
\abovedisplayshortskip=\z@ plus3pt  \belowdisplayshortskip=6pt plus3pt minus3pt
\let\@listi\@listI} 
%%% Small fonts
\def\small{\@setsize\small{11pt}\ixpt=\@ixpt
\abovedisplayskip=8.5pt plus 3pt minus 4pt\belowdisplayskip=\abovedisplayskip
\abovedisplayshortskip=\z@ plus2pt\belowdisplayshortskip=4pt plus2pt minus 2pt
\def\@listi{\leftmargin\leftmargini\topsep=4pt plus 2pt minus 2pt
\parsep=2pt plus 1pt minus 1pt\itemsep=\parsep}}
%%% foot note fonts
\def\footnotesize{\@setsize\footnotesize{9.5pt}\viiipt\@viiipt
\abovedisplayskip=6pt plus 2pt minus 4pt\belowdisplayskip=\abovedisplayskip
\abovedisplayshortskip=\z@ plus 1pt\belowdisplayshortskip=3pt plus 1pt minus 2pt
\def\@listi{\leftmargin\leftmargini\topsep=3pt plus 1pt minus 1pt
\parsep=2pt plus 1pt minus 1pt\itemsep \parsep}}
%%% Some Quick and Dirty Font sizes for ad-hockery.
%%% \@setsize sets \@cursize to #1, \strut to #2, executes \viipt, \@viipt
\def\scriptsize{\@setsize\scriptsize{8pt}\viipt\@viipt}
\def\tiny{\@setsize\tiny{6pt}\vpt\@vpt}
\def\large{\@setsize\large{14pt}\xiipt\@xiipt}
\def\Large{\@setsize\Large{18pt}\xivpt\@xivpt}
\def\LARGE{\@setsize\LARGE{22pt}\xviipt\@xviipt}
\def\huge{\@setsize\huge{25pt}\xxpt\@xxpt}
\def\Huge{\@setsize\Huge{30pt}\xxvpt\@xxvpt}
\font\sfviii=cmss10 scaled 800
\font\sfix=cmss10 scaled 900
\font\sfx=cmss10
\font\sfxi=cmss10 scaled 1100
\font\sfxii=cmss10 scaled 1200
\font\sfxiv=cmss10 scaled 1400
\font\sfxx=cmss10 scaled 2000
\font\rmix=cmr10 scaled 900
\font\rmxvi=cmr10 scaled 1600
\font\rmixxiii=cmti10 scaled 2300


%%% ~~~ Page Dimensions ~~~ %%%
%%% most of these variables are part of TeX or LaTeX
\oddsidemargin=-.125in          % i.e. 7/8" on left for recto
\evensidemargin=-.125in         % i.e. 7/8" on left for verso
\marginparwidth=.75in           % width of marginal notes
\marginparsep=7pt               % space between marg. note and outer margin
\topmargin=-.375in              % i.e. 5/8" b/b   
\headheight=0pt                 % height of running head
\headsep=0pt                    % space between head and text top
\footskip=2pc                   % space between foot and text bottom
\baselineskip=13pt              % baseline spacing
\textheight=42\baselineskip     % height of text block
\advance\textheight by \topskip % add topskip fudge
\textwidth=33.5pc               % width of text block
\@twosidetrue                   % print for both side output


%%% ~~~ Element Spacing ~~~ %%%
%%% most of these variables are part of TeX or LaTeX
%%% footnotes
\footnotesep=6.65pt                     % space beween consecut. footnotes
\skip\footins=9pt plus 4pt minus 2pt    % space between text and footnotes
\def\footnoterule{\kern-3\p@ 
 \hrule width .4\columnwidth 
 \kern 2.6\p@} 
\long\def\@makefntext#1{\parindent 1em\noindent 
 \hbox to 1.8em{\hss$^{\@thefnmark}$}#1}
%%% floating figures
\floatsep=12pt plus 2pt minus 2pt       % space between floats
\textfloatsep=20pt plus 2pt minus 4pt   % space between end-floats and text
\intextsep=12pt plus 2pt minus 2pt      % space between in-text float
\@maxsep=20pt                           % maximum floating space
\@fptop=0pt plus 1fil                   % space above float 
\@fpsep=8pt plus 2fil                   % space below float
\@fpbot=0pt plus 1fil                   % space between consecut. floats
%%% marginal notes
\marginparpush=5pt                      % min space btwn. consec. mar.notes
%%% paragraphs
\parskip=0pt plus 1pt                   % space between paragraphs
\parindent=1.5pc                        % paragraph indentation
%%% lists
\partopsep=2pt plus 1pt minus 1pt
%%% various line/page breaking penalties
\@lowpenalty=51 
\@medpenalty=151 
\@highpenalty=301 
\@beginparpenalty=-\@lowpenalty 
\@endparpenalty=-\@lowpenalty 
\@itempenalty=-\@lowpenalty 
%%% arrays and tables
\arraycolsep=5pt 
\tabcolsep=.5pc 
\arrayrulewidth=.4pt 
\doublerulesep=2pt 
\tabbingsep=\labelsep 
\skip\@mpfootins=\skip\footins
\fboxsep=3pt 
\fboxrule=.4pt 


%%% ~~~ List Indentation Values ~~~ %%%
%%% most of these variables are part of TeX or LaTeX
\leftmargini=9.5pc
\leftmarginii=22pt 
\leftmargin=\leftmargini
\labelsep=5pt
\labelwidth=\leftmargini
\advance\labelwidth by -\labelsep
\def\@listI{\leftmargin=\leftmargini\parsep=4pt plus 2pt minus 1pt
\topsep=8pt plus 2pt minus 4pt\itemsep=4pt plus 2pt minus 1pt}
\let\@listi\@listI
\def\@listii{\leftmargin=\leftmarginii\labelwidth=\leftmarginii
\advance\labelwidth by -\labelsep\topsep=4pt plus 2pt minus 1pt
\parsep=2pt plus 1pt minus 1pt\itemsep=\parsep}


%%% ~~~ Floating Figure Crap(Humor Me) ~~~ %%%
%%% these are necessary, but serve no purpose
\setcounter{topnumber}{2}
\def\topfraction{.7}
\setcounter{bottomnumber}{1}
\def\bottomfraction{.3}
\setcounter{totalnumber}{3}
\def\textfraction{.2}
\def\floatpagefraction{.5}
\setcounter{dbltopnumber}{2}
\def\dbltopfraction{.7}
\def\dblfloatpagefraction{.5}


%---------------------------------------+-----------------------------------%
%%%                            PWSKBOOK Elements                          %%%
%---------------------------------------+-----------------------------------%

%%% ~~~ Chapter~~~ %%%
% JCS - modified so that there is only one parameter.  Need to 
%       add automatic page numbering
\def\chapter#1{\cleardoublepage       % start on recto
  \thispagestyle{chapopen}      % chapter opener page style 
  \global\@topnum=\z@           % no floats allowed on the top of this page
  \@afterindentfalse            
  \countdef\problem=0           % reset illustrative problem number
  \countdef\figcount=0          % reset figure numebers
  \chaptermark{#1}              % update footer
  \typeout{\@chapapp\space\thechapter.}
  \vspace*{10pc}
  \vtop{\hsize=30pc\leftskip=7pc%
    \parindent=0pt\baselineskip=31pt% 
    \setbox0=\hbox{\vrule height -9.5pt depth 10pt width 26.5pc}\wd0=0pt%
    \rmixxiii\noindent\box0 #1\par}
  \vspace*{1in}
} 


%%% ~~~ Chapter Preview ~~~ %%%
\def\preview{\relax
  \leftskip=0pt \rightskip=7pc                  % set preview text margins
  \vbox{\noindent\sfxi PREVIEW\par}             % 11/18 heading
  \vspace*{12pt}
  \baselineskip=15pt\relax\sfx                  % 10/15 preview text
  \ignorespaces\noindent}

\def\endpreview{\par
  \baselineskip=2.5pc                           % 2.5pc drop
  \setbox0=                                     % make closing rule
    \hbox{\kern 5pc\vrule height 1pc depth 1pc width 2pc}\relax
  \ht0=0pt \dp0=0pt \wd0=0pt
  \box0                                         % place square bullet
  \hrule height .25pt depth .25pt width \hsize  % draw horiz rule
  \normalbaselines                              % start a new paragraph
  \vrule height 3.5pc depth 0pt width 0pt       % 3.5pc b/b from here
  \nobreak}

% JCS - renamed to "section" from "Ahead"
%%% ~~~ A-Head ~~~ %%%
\def\Ahead#1{\goodbreak\sectionmark{#1}
  \par
  \leftskip=0pt
  \vspace{26pt}
  \vbox {\hsize=22pc\sfxii\raggedright 
    \baselineskip=14pt\noindent
    \uppercase{#1}\relax
    \vrule depth 6pt width 0pt height 0pt}
  \setbox0=
    \hbox {\kern13.33pc \vrule height 4pt% 
     depth 4pt width 8pt}\relax
  \ht0=0pt \dp0=0pt \wd0=0pt
  \box0
  \hrule height .25pt depth .25pt width 16pc\hfil\par
  \vspace{20pt}
  \leftskip=7pc
}
\def\section#1{\Ahead{#1}}

% JCS - renamed to subsection
%%% ~~~ B-Head ~~~ %%%
\def\Bhead#1{\goodbreak\vspace{12pt}
  \vbox{\hsize=19pc\noindent
  \baselineskip=13pt\raggedright
  \leftskip=7pc  \sfx\uppercase{#1}}
  \vspace*{7pt}}
\def\subsection#1{\Bhead{#1}}

% JCS - renamed to subsubsection  
%%% ~~~ C-Head ~~~ %%%
\def\Chead#1{\vspace{7pt}
  {\it\noindent#1}\quad}
\def\subsubsection#1#2\par{\Chead{#1}}
  

%%% ~~~ D-Head ~~~ %
\def\Dhead#1{{\it\noindent#1}\quad}


%%% ~~~ Numeric List ~~~ %%%
%%% Numeric List Numbering Style Definitions
\def\labelenumi{\theenumi.} 
\def\theenumi{\arabic{enumi}} 
\def\labelenumii{\theenumii.}
\def\theenumii{\alph{enumii}}


%%% ~~~ Displayed Equations ~~~ %%%
% JCS - experimenting with the following lines. 
%       I basically need to remove $$ and insert 
%       the pws display style.
\def\eatmath#1$${\hbox to \textwidth{\hfil\hfil$#1$\hfil}$$}
\everydisplay={\eatmath}

\def\displayeq{\par\vspace{10pt}%
  \leftskip=7pc\hfil$}
\def\enddisplayeq{\ifmmode$\else\relax\fi
  \hfil\vspace{4pt}\ignorespaces\noindent\everydisplay={\eatmath}}
%
%JCS - modified displaycapt so it works outside of displayeq
\def\displaycapt#1{\par% JCS - used to read {$\par...
  \setbox0=
    \hbox{\sfxi#1}\wd0=0pt \dp0=0pt \ht0=0pt
  \vskip -12pt % JCS added this line
  \box0}
\def\hidisplayeq{\par\offinterlineskip
  \vspace{10pt}
  \hrule
  \abovedisplayskip = 3pt
  \belowdisplayskip = 10pt
  \leftskip=7pc\hfil}
\def\endhidisplayeq{\ifmmode
  $\else\relax\fi\hfill\vspace{3pt}
  \hrule\vspace{10pt}
  \abovedisplayskip = 10pt
  \belowdisplayskip = 10pt
  \ignorespaces\noindent}


%%% ~~~ Illustrative Problem ~~~ %%%
\def\illusprob{\goodbreak\setbox0=
    \hbox{\vrule height 4pt depth 4pt width 8pt}\relax
  \wd0=0pt \ht0=0pt \dp0=0pt
  \setbox1=\vbox{\nointerlineskip
    \hsize=6pc\raggedright
    \box0
    \hrule height .5pt width 7pc\par
    \vspace{15pt}
    {\sfx ILLUSTRATIVE PROBLEM \thechapter
      .NUMBER? }\vspace{5pt}}
  \def\labelenumi{\theenumi.} 
  \def\theenumi{\bf\alph{enumi}} 
  \def\labelenumii{\theenumii.}
  \def\theenumii{(\roman{enumii})}
  \edef\ce@last{\@currenvir}
}  
\def\endillusprob{\setbox0=
  \hbox{\kern -7pc\vrule height .5pt width 7pc}\relax
  \wd0=0pt \ht0=0pt \dp0=0pt
  \hbox to \hsize{\hfil\box0\vrule height 4pt depth 4pt width 8pt}}

\def\iptitle#1{\nointerlineskip\par
  \setbox2=
  \vbox{\hsize=6pc
    \raggedright
    \unvbox1
    {\it#1}}\relax
  \wd2=0pt \ht2=0pt \dp2=0pt
    \vspace{10pt}
  \box2\leftskip=7pc}
\def\iptext{\baselineskip=12pt\rmix}
\def\endiptext{\normalbaselines}


%%% ~~~ Example ~~~ %%%
\def\example{\goodbreak\setbox0=
    \hbox{\circle*{8}}\relax
  \wd0=0pt \ht0=0pt \dp0=0pt
  \setbox1=\vbox{\hsize=6pc\raggedright
    \box0
    \hrule height .5pt width 7pc\par
    \vspace{8pt}
    {\sfx EXAMPLE \thechapter
      .NUMBER?}}
  \def\labelenumi{\theenumi.} 
  \def\theenumi{\bf\alph{enumi}} 
  \def\labelenumii{\theenumii.}
  \def\theenumii{(\roman{enumii})}
  \edef\ce@last{\@currenvir}
}  
\def\extitle#1{\nointerlineskip\par
  \setbox2=
  \vbox{\hsize=6pc
    \raggedright
    \unvbox1\vspace{5pt}
    {\sfx#1}}\relax
  \wd2=0pt \ht2=0pt \dp2=0pt
    \vspace{10pt}
  \box2\leftskip=7pc}
\def\endexample{\setbox0=
  \hbox{\kern -7pc\vrule height .5pt width 7pc}\relax
  \wd0=0pt \ht0=0pt \dp0=0pt
  \hbox to \hsize{\hfil\box0\circle*{8}}}
\def\extext{\baselineskip=12pt\rmix\noindent}
\def\endextext{\normalbaselines}


%%% ~~~ What If? ~~~ %%%
% JCS - removed check to see if in solution...
\def\whatif{\par\vspace{12pt}\noindent
  \hbox{\vrule
    \vbox to 15pt{\hrule\vfil
      \hbox to 6.5pc{\hfil\sfix WHAT IF?\hfil}\vfil
      \hrule}%
   \vrule}\par\vspace*{8pt}\leftskip=7pc
  \def\labelenumi{\theenumi.} 
  \def\theenumi{\bf\alph{enumi}} 
  \def\labelenumii{\theenumii.}
  \def\theenumii{(\roman{enumii})}
  \edef\ce@last{\@currenvir}}

\def\endwhatif{\vrule height 6pt width 6pt depth 0pt
  \par\vspace{5pt}}


%%% ~~~ Cross Check ~~~ %%%
% JCS - removed check to see if in example...
\def\crosscheck{\par\vspace{12pt}\noindent
  \hbox{\vrule
    \vbox to 15pt{\hrule\vfil
      \hbox to 7pc{\hfil\sfix CROSS CHECK\hfil}\vfil
      \hrule}%
   \vrule}\par\vspace*{8pt}\leftskip=7pc
  \def\labelenumi{\theenumi.} 
  \def\theenumi{\bf\alph{enumi}} 
  \def\labelenumii{\theenumii.}
  \def\theenumii{(\roman{enumii})}
  \edef\ce@last{\@currenvir}}
\def\endcrosscheck{\vrule height 6pt width 6pt depth 0pt
  \par\vspace{8pt}}


%%% ~~~ Solution ~~~ %%%
% JCS - removed check to see if in example...
\def\solution{\setbox0=
  \vbox{\noindent\kern-7pc\sfix Solution}%
  \wd0=0pt \ht0=0pt \dp0=0pt
  \baselineskip=12pt
  \box0
  \def\labelenumi{\theenumi.} 
  \def\theenumi{\bf\alph{enumi}} 
  \def\labelenumii{\theenumii.}
  \def\theenumii{(\roman{enumii})}
  \edef\ce@last{\@currenvir}
}
\def\endsolution{\par\vspace{12pt}}
\def\soltext{}
\def\endsoltext{\normalbaselines}


%%% ~~~ Comment ~~~ %%%%
% JCS - removed check to see if in example....
\def\comment{\par\leftskip=7pc
  \vskip 6pt \noindent
  {\it Comment:\ }
  \edef\ce@last{\@currenvir}}
\def\endcomment{\par\vskip 6pt}


%%% ~~~ Hint ~~~ %%%
% JCS - removed check to see if example....
\def\hint{\par\leftskip=7pc
  \vskip 6pt \noindent
  {\it Hint:\ }
  \edef\ce@last{\@currenvir}}
\def\endhint{\par\vskip 6pt}


%%% ~~~ Unnumbered Table ~~~ %%%
%%% Use `tabular' for making tables


%%% ~~~ Scripts ~~~ %%%

%JCS - in SciWord we'll implement this with the verbatim environment
\def\verbatim{\script}
\def\endverbatim{\endscript}
%
\def\script{\par\leftskip=0pc\vspace{6pt}\noindent\hbox{
\vrule width 13.3pc height 4pt depth -3pt\hbox{\kern 4pt MatLAB Script\kern 4pt}
\vrule width 13.2pc height 4pt depth -3pt}\par\obeylines\obeyspaces
\catcode`\%=11\catcode`\_=11\catcode`\&=11\tt}
\def\endscript{\par\vspace{6pt}\noindent\hbox{\vrule 
width 33.5pc height 4pt depth -3pt}\par\leftskip=7pc}


%%% ~~~ Figures ~~~ %%%
% check to make sure figure size is a, b, c, or cc
\def\figure#1{\gdef\ffigs{#1}\def\ffigc{c}\def
\ffigcc{cc}\ifx a#1 \else\ifx b#1 \else\ifx\ffigs\ffigc\else
\ifx\ffigs\ffigcc \else\@latexerr{Illegal figure size: ``#1''}
\@eha\fi\fi\fi\fi}
\def\endfigure{}
\def\@captioncc#1#2#3#4{\leftskip=0pc
\setbox0=\hbox to 16.75pc{\hfil Figure \thechapter.#1\enspace\it #2\hfil}%
\setbox1=\hbox to 16.75pc{\hfil Figure \thechapter.#3\enspace\it #4\hfil}%
\hbox{\box0\hfil\box1}\vspace{12pt}\leftskip=7pc}
\def\@captiona#1#2{\leftskip=0pc
\hbox to 33.5pc{\hskip 7pc Figure \thechapter.#1\enspace\it #2\hfil}\vspace
{12pt}\leftskip=7pc}
\def\@captionb#1#2{\leftskip=0pc
\setbox0=\hbox to 26.5pc{Figure \thechapter.#1\enspace\it #2\hfil}
\hbox to 33.5pc{\hfil\box0}\vspace{12pt}\leftskip=7pc}
\def\@captionc#1#2{\leftskip=0pc
\setbox0=\hbox to 26.5pc{Figure \thechapter.#1\enspace\it #2\hfil}
\hbox to 33.5pc{\hfil\box0}\vspace{12pt}\leftskip=7pc}
\def\caption{\par\vspace{12pt}\csname @caption\ffigs \endcsname}


%%% ~~~ Problems ~~~ %%%
\def\problems{\Ahead{Reinforcement Exercises and Exploration Problems}
  \def\theenumi{\alph{enumi}}
  \def\labelenumi{\theenumi.}
  \def\theenumii{\roman{enumii}}
  \def\labelenumii{(\theenumii).}
}
\def\reinforce{\Bhead{Reinforcement Exercises}}
\def\explore{\Bhead{Exploration Problems}}
\def\aproblem#1{\refstepcounter{problem}\vspace{10pt}\leftskip=
0pc\par\hangindent=7pc\hangafter=1{\bf P\thechapter\@.\theproblem
\ #1\@.}\enspace\everypar{\leftskip=7pc}}
\def\endproblems{\everypar{}}


%%% ~~~ Definitions, Techniques, and Connections ~~~ %%%
\def\definitions{\Ahead{Definitions, Techniques, and 
Connections}\def\theenumi{\arabic{enumi}}\def\labelenumi{\theenumi.}}
\def\defsubhead#1{\Bhead{#1}}
\def\defonecol#1{\par\leftskip=0pc\vspace{6pt}\vbox{\noindent
\it #1\vfil}\par\noindent\leftskip=7pc}
\def\deftwocol#1#2{\par\leftskip=0pc\vspace{6pt}\hbox to 
\hsize{\vtop{\hsize=6pc\it\raggedright\noindent#1\vfil}\hfil
\vtop{\hsize=26.5pc\raggedright\noindent#2\hfil}}\vspace{3pt}}
\def\enddefinitions{\vspace{6pt}}


%%% ~~~ Answers ~~~ %%%
\def\answers{\Ahead{Answers}\vspace{-6pt}}
\def\ananswer{\par\vspace{6pt}\noindent\refstepcounter{answer}{\bf 
P\thechapter\@.\theanswer}}
\def\anpt#1;{\refstepcounter{anspart}\theanspart #1;}
\def\subanpt#1;{\refstepcounter{subanpt}\thesubanpt #1;}
\def\endanswers{\par\vspace{6pt}}


%%% ~~~ Annotated Bibliography ~~~ %%%
\def\bibliography{\Ahead{Annotated Bibliography}}
\def\bibitm{\refstepcounter{bibitm}\par\vspace{6pt}{\bf
 \thebibitm\@.\enspace}}
\def\endbibliography{\par\vspace{6pt}}


%%% ~~~ MATLAB Functions Used ~~~ %%%
\def\matlabfuncs{\Ahead{Matlab Functions Used}\raggedright
\noindent\kern-.5pc}
\def\mlfHead#1{\it #1}
\def\endmatlabfuncs{\par\vspace{12pt}}


%%% ~~~ Retrospective Section ~~~ %%%
\def\retrospective#1{\cleardoublepage\thispagestyle{chapopen}\vspace*{7.5pc}
\noindent{\sfxx R E T R O S P E C T I V E\hfil}\vspace{4pt}
\setbox0=\hbox{\kern-3.5pc\vrule width 1pc height .5pc depth .5pc}
\hbox {\vbox{\hrule width 29pc}\box0}\par
\vspace{10pt}\noindent{\rmxvi Chapters #1}}
\def\retAhead#1{\par\noindent\vspace{6pt}\begin{center}{\sfxii
\uppercase{#1}}\end{center}\hrule\vspace{6pt}}
\def\retBhead#1{\sfx\uppercase{#1}}
\def\rettable{\center\tabular}
\def\endrettable{\endtabular\endcenter}
\def\endretrospective{}


%---------------------------------------+-----------------------------------%
%%%                           Page Style Definitions                      %%%
%---------------------------------------+-----------------------------------%
%%% ~~~ Regualar Page ~~~ %%%
% regular, run-o'-the-mill page style with sanserif feet 
\def\ps@regular{\let\@mkboth\markboth\def\@oddhead{}\def\@evenhead{}
  \def\@evenfoot{\vbox{\hrule height .5pt width \textwidth\hbox 
     to \textwidth{\vrule height 12pt depth 0pt width 0pt
     \sfxi\thepage\hfill\sfviii\leftmark}}}
  \def\@oddfoot{\vbox{\hrule height .5pt width \textwidth
      \hbox to \textwidth{\vrule height 12pt depth 0pt width 0pt
	\sfviii\rightmark\hfill\sfxi\thepage}}}
  \def\chaptermark##1{\markboth{\uppercase{##1}}{}}
  \def\sectionmark##1{\markright{\uppercase{##1}}}}

%%% ~~~ Chapter Opener Page ~~~ %%%
\def\ps@chapopen{\let\@mkboth\markboth\def\@oddhead{}
  \def\@evenhead{}\def\@evenfoot{}\def\@oddfoot{\hfill\sfxiv\thepage}
  \def\chaptermark##1{\markboth{\uppercase{##1}}{}}
  \def\sectionmark##1{\markright{\uppercase{##1}}}}


%---------------------------------------+-----------------------------------%
%%%                               Miscellaneous                           %%%
%---------------------------------------+-----------------------------------%

\def\today{\ifcase\month\or January\or February\or March\or April\or 
    May\or June\or July\or August\or September\or October\or November\or 
    December \fi\space\number\day,\number\year}

\def\theequation{\thechapter.\arabic{equation}}


%---------------------------------------+-----------------------------------%
%%%                             StartUp Commands                          %%%
%---------------------------------------+-----------------------------------%

\ps@regular
\pagenumbering{arabic} 
\onecolumn 
\overfullrule=5pt
\leftskip=7pc
\rightskip=0pt
\normalsize     
\@listi 
\mark{{}{}}

\input tcilcomm 



